/**
 * jQuery WP-SmartCrop v1.5.0
 * Copyright (c) 2017 Greg Schoppe
 * License: http://www.opensource.org/licenses/mit-license.php
 **/
(function(f){f.fn.extend({wpsmartcrop:function(e){function q(a,b){var c=a[0]/a[1];return c>b[0]/b[1]?[Math.round(b[1]*c),b[1]]:[b[0],Math.round(b[0]/c)]}function r(a){function b(a,c,b){b/=100;for(var d=[.33333,.5,.66667],h=d[0],f=Math.abs(b-h),e=0;e<d.length;e++){var k=Math.abs(b-d[e]);k<f&&(f=k,h=d[e])}b=Math.round(b*c-h*a);a=c-a;b>a&&(b=a);0>b&&(b=0);return-1*b}var c=a.data("smartcrop-focus"),d=[a[0].naturalWidth?a[0].naturalWidth:a[0].getAttribute("width"),a[0].naturalHeight?a[0].naturalHeight:
a[0].getAttribute("height")];a=[a.width(),a.height()];if(!c||2>c.length||!d[0]||!d[1]||!a[0]||!a[1])return!1;var d=q(d,a),h=[0,0];a[0]/a[1]<d[0]/d[1]?h[0]=b(a[0],d[0],c[0]):h[1]=b(a[1],d[1],c[1]);return{f:d[0],c:d[1],a:h[0],b:h[1]}}function n(a,b){var c=r(a);if(b)c=""+c.a+"px "+c.b+"px",a.css({"-o-object-position":c,"object-position":c}),a.addClass("wpsmartcrop-rendered");else{var d=a.position(),e=a.next(".wpsmartcrop-overlay"),f=e.find("img");e.css({width:a.width()+"px",height:a.height()+"px",top:d.top+
"px",left:d.left+"px"});f.css({width:c.f+"px",height:c.c+"px",top:c.b+"px",left:c.a+"px"});e.addClass("wpsmartcrop-overlay-rendered")}}e=f.extend({focal_point:null,compatibility:null},e);var p=0;e=["webkit","moz"];for(var k=window.requestAnimationFrame,m=window.cancelAnimationFrame,l=0;l<e.length&&!k;++l)k=window[e[l]+"RequestAnimationFrame"],m=window[e[l]+"CancelAnimationFrame"]||window[e[l]+"CancelRequestAnimationFrame"];k||(k=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+
c)},c);p=b+c;return d});m||(m=function(a){clearTimeout(a)});var t=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.g)return!1;var a=document.createElement("div");return"objectFit"in a.style&&"objectPosition"in a.style||"OobjectFit"in a.style&&"OobjectPosition"in a.style?!0:!1}();return this.each(function(){var a=f(this);if(a.is("img")){var b=[a[0].naturalWidth?a[0].naturalWidth:a[0].getAttribute("width"),a[0].naturalHeight?a[0].naturalHeight:a[0].getAttribute("height")];if(0!=b[0]&&
0!=b[1]){a.data("wpsmartcrop-natural-dims",b);a.next("wpsmartcrop-overlay").remove();o.focal_point?a.data("smartcrop-focus",o.focal_point):a.data("smartcrop-focus")||a.data("smartcrop-focus",[50,50]);var c=!0;"new"==o.compatibility||"old"!=o.compatibility&&t||(c=!1,b=a.clone().removeClass("wpsmartcrop-image").removeAttr("data-smartcrop-focus"),f("<div></div>").addClass("wpsmartcrop-overlay").append(b).insertAfter(a));n(a,c);var d=!1;f(window).resize(function(){m(d);d=k(function(){n(a,c)})});a.on("wpsmartcrop-redraw",
function(){n(a,c)})}}})}})})(jQuery);jQuery(document).ready(function(f){f("img.wpsmartcrop-image").h()});
