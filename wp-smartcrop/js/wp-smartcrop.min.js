function wpsmartcrop(t,e){if(t){e||(e={});e=smartcrop_merge(e,{focal_point:null,compatibility:null});for(var r=0,a=["webkit","moz"],i=window.requestAnimationFrame,o=window.cancelAnimationFrame,n=0;n<a.length&&!i;++n)i=window[a[n]+"RequestAnimationFrame"],o=window[a[n]+"CancelAnimationFrame"]||window[a[n]+"CancelRequestAnimationFrame"];i||(i=function(t,e){var a=(new Date).getTime(),i=Math.max(0,16-(a-r)),o=window.setTimeout(function(){t(a+i)},i);return r=a+i,o}),o||(o=function(t){clearTimeout(t)});for(var s,c=("objectFit"in(s=document.createElement("div")).style&&"objectPosition"in s.style||"OobjectFit"in s.style&&"OobjectPosition"in s.style),f=0;f<t.length;f++){var l=t[f];if("IMG"==l.nodeName){var p=[l.naturalWidth?l.naturalWidth:l.getAttribute("width"),l.naturalHeight?l.naturalHeight:l.getAttribute("height")];if(0!=p[0]&&0!=p[1]){l.setAttribute("data-wpsmartcrop-natural-dims",p);var d=l.nextSibling;d&&d.classList&&d.classList.contains("wpsmartcrop-overlay")&&d.parentNode.removeChild(d),e.focal_point?l.setAttribute("data-smartcrop-focus",e.focal_point):l.hasAttribute("data-smartcrop-focus")||l.setAttribute("data-smartcrop-focus",[50,50]);var u=!0;if("new"!=e.compatibility&&("old"==e.compatibility||!c)){u=!1;var m=l.cloneNode(!0);m.classList.remove("wpsmartcrop-image"),m.removeAttribute("data-smartcrop-focus");var h=document.createElement("div");h.classList.add("wpsmartcrop-overlay"),h.appendChild(m),l.parentNode.insertBefore(h,l.nextSibling)}var w=l;b(w,u);var v=!1;window.addEventListener("resize",function(){o(v),v=i(function(){b(w,u)})}),window.addEventListener("load",function(){b(w,u)}),l.addEventListener("wpsmartcrop-redraw",function(){b(w,u)})}}}}function g(t){var e=function(t,e,r){var a=function(t,e){for(var r=e[0],a=Math.abs(t-r),i=0;i<e.length;i++){var o=Math.abs(t-e[i]);o<a&&(a=o,r=e[i])}return r}(r/=100,[.33333,.5,.66667]),i=Math.round(r*e-a*t),o=e-t;return i>o&&(i=o),i<0&&(i=0),-1*i},r=JSON.parse(t.getAttribute("data-smartcrop-focus"));r||(console.log("Eror: data-smartcrop-focus attribute not read by JSON.parse()"),r=[50,50]);var a=[t.naturalWidth?t.naturalWidth:t.getAttribute("width"),t.naturalHeight?t.naturalHeight:t.getAttribute("height")],i=[t.offsetWidth,t.offsetHeight];if(!r||r.length<2||!a[0]||!a[1]||!i[0]||!i[1])return!1;var o,n,s,c=(n=i,(s=(o=a)[0]/o[1])>n[0]/n[1]?[Math.round(n[1]*s),n[1]]:[n[0],Math.round(n[0]/s)]),f=[0,0];return i[0]/i[1]<c[0]/c[1]?f[0]=e(i[0],c[0],r[0]):f[1]=e(i[1],c[1],r[1]),{final_width:c[0],final_height:c[1],offset_x:f[0],offset_y:f[1]}}function b(t,e){var r=g(t);if(e){var a=r.offset_x+"px "+r.offset_y+"px";t.style.objectPosition=a,t.style.oObjectPosition=a,t.classList.add("wpsmartcrop-rendered")}else{var i=t.offsetTop,o=t.offsetLeft,n=t.nextSibling();if(n&&n.classList.contains("wpsmartcrop-overlay")){var s=(n=set_object_styles(n,{width:t.offsetWidth+"px",height:t.offsetHeight+"px",top:i+"px",left:o+"px"})).querySelector("img");if(s)s=set_object_styles(s,{width:r.final_width+"px",height:r.final_height+"px",top:r.offset_y+"px",left:r.offset_x+"px"});n.classList.add("wpsmartcrop-overlay-rendered")}}}}function smartcrop_merge(t,e){if("object"==typeof t&&"object"==typeof e){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);return r}}function set_object_styles(t,e){for(var r in style_array)t.style[r]=e[r];return t}var smartcrop_options={},wpsmartcrop_images=document.querySelectorAll("img.wpsmartcrop-image");wpsmartcrop(wpsmartcrop_images,smartcrop_options);